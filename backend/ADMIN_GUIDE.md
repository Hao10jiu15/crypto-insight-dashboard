# Django Admin 用户界面操作指南

## 🎯 概述

现在你可以通过 Django Admin 的 Web 界面完成所有加密货币的管理操作，无需使用终端命令！

## 🔗 访问地址

访问 Django Admin 界面：**http://localhost:8000/admin/**

## 👤 登录信息

- 用户名：`root`
- 密码：`Xuege6661`

## 📋 功能列表

### 1. 货币管理 (Currencies)

访问：`Admin首页 -> Market_data -> Currencies`

#### 🔍 货币列表页面功能

每个货币都会显示：

- **数据量**：显示已获取的市场数据条数
- **模型状态**：显示模型版本和预测数据条数
- **操作按钮**：
  - 📊 **获取数据**：为该货币获取历史市场数据
  - 🚀 **训练模型**：为该货币训练 ML 预测模型
  - ⚡ **完整流程**：数据获取+模型训练的完整流程

#### 🛠️ 快速操作按钮

页面顶部提供：

- 🆕 **添加默认货币**：一键添加 7 种主流加密货币
- 🔄 **批量操作**：对所有货币执行批量操作

### 2. 批量操作页面

提供三种批量操作：

- 📊 **获取所有货币数据**：为所有货币获取最新市场数据
- 🚀 **训练所有模型**：为所有有数据的货币训练模型
- ⚡ **完整流程**：先获取数据，5 分钟后开始训练（推荐）

### 3. 其他管理页面

- **Market Data**：查看已获取的市场数据
- **Prediction Models**：查看训练好的模型
- **Price Predictions**：查看生成的价格预测

## 🚀 快速开始指南

### 首次使用

1. 访问 http://localhost:8000/admin/
2. 登录
3. 进入 **Market_data -> Currencies**
4. 点击 **🆕 添加默认货币**
5. 确认添加 7 种主流货币
6. 点击 **🔄 批量操作**
7. 选择 **⚡ 完整流程**
8. 等待数据获取和模型训练完成

### 添加新货币

#### 方法 1：手动添加

1. 在 Currencies 页面点击 **Add Currency**
2. 填写：
   - **Name**：货币名称（如 Polygon）
   - **Symbol**：货币符号（如 MATIC）
   - **Coingecko ID**：CoinGecko 的 ID（如 polygon）
3. 保存后，系统会自动开始数据获取和训练

#### 方法 2：使用操作按钮

1. 添加货币后，点击该货币的 **⚡ 完整流程** 按钮
2. 系统会自动执行数据获取和模型训练

### 重新训练模型

1. 在 Currencies 页面找到要重新训练的货币
2. 点击该货币的 **🚀 训练模型** 按钮
3. 系统会使用最新数据重新训练模型

### 更新数据

1. 对单个货币：点击 **📊 获取数据** 按钮
2. 对所有货币：使用 **批量操作** -> **获取所有货币数据**

## 📊 监控任务状态

### 通过 Django Messages

- 任务启动时会显示绿色成功消息，包含任务 ID
- 发生错误时会显示红色错误消息

### 通过 Docker 日志

```bash
# 查看Celery Worker日志
docker logs crypto_celery_worker

# 查看Django后端日志
docker logs crypto_backend
```

### 通过数据库

- 检查 **Market Data** 页面查看数据获取状态
- 检查 **Prediction Models** 页面查看模型训练状态
- 检查 **Price Predictions** 页面查看预测结果

## 🔧 故障排除

### 任务没有执行

1. 确认 Celery Worker 正在运行：`docker ps`
2. 检查 Celery 日志：`docker logs crypto_celery_worker`
3. 重启 worker：`docker restart crypto_celery_worker`

### 数据获取失败

1. 检查网络连接
2. 验证 CoinGecko API 是否可用
3. 确认 coingecko_id 正确

### 模型训练失败

1. 确认有足够的历史数据（至少 50 条记录）
2. 检查是否有比特币数据（山寨币依赖比特币特征）
3. 查看详细错误信息

## 💡 最佳实践

1. **首次部署**：使用"完整流程"批量操作
2. **日常维护**：设置定期任务自动更新数据和重训练模型
3. **新币种**：添加后立即运行完整流程
4. **监控**：定期查看任务日志和预测结果
5. **备份**：定期备份模型文件和数据库

## 🎉 享受你的加密货币预测系统！

现在你已经有了一个完全通过 Web 界面管理的加密货币价格预测系统。无需再使用复杂的终端命令，所有操作都可以通过直观的 Django Admin 界面完成！
